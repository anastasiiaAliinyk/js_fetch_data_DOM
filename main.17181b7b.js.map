{"version":3,"sources":["scripts/main.js"],"names":["BASE_URL","getDataFromApi","fetch","timeout","Promise","resolve","reject","setTimeout","Error","getPhonesWithTimeout","race","then","response","json","catch","error","console","warn","getPhones","phones","phonesIds","map","phone","id","getPhonesDetails","ids","phonesDetailsList","all","displayList","list","document","createElement","forEach","item","li","textContent","name","append","body"],"mappings":";AAAA,aAGA,IAAMA,EAAW,wEAEjB,SAASC,IACAC,OAAAA,MAAMF,GAGf,SAASG,IACA,OAAA,IAAIC,QAAQ,SAACC,EAASC,GAC3BC,WAAW,WACTD,OAAAA,EAAO,IAAIE,MAAM,eAChB,OAIP,SAASC,IACAL,OAAAA,QAAQM,KAAK,CAClBT,IACAE,MAECQ,KAAK,SAAAC,GACGA,OAAAA,EAASC,SAEjBC,MAAM,SAAAC,GAEEC,OAAAA,QAAQC,KAAKF,KAI1B,SAASG,IACAT,OAAAA,IACJE,KAAK,SAAAQ,GAGGC,OAFWD,EAAOE,IAAI,SAAAC,GAASA,OAAAA,EAAMC,OAMlD,SAASC,EAAiBC,GAClBC,IAAAA,EAAoBD,EAAIJ,IAAI,SAAAE,GACzBrB,OAAAA,MAE+DqB,oEAAAA,OAAAA,EAF/D,UAIJZ,KAAK,SAAAC,GACGA,OAAAA,EAASC,WAIfT,OAAAA,QAAQuB,IAAID,GAGrB,SAASE,EAAYF,GACbG,IAAAA,EAAOC,SAASC,cAAc,MAEpCL,EAAkBM,QAAQ,SAAAC,GAClBC,IAAAA,EAAKJ,SAASC,cAAc,MAElCG,EAAGC,YAAcF,EAAKG,KAEtBP,EAAKQ,OAAOH,KAGdJ,SAASQ,KAAKD,OAAOR,GAGvBX,EAAUlB,GACPW,KAAKa,GACLb,KAAKiB","file":"main.17181b7b.js","sourceRoot":"../src","sourcesContent":["'use strict';\n\n// eslint-disable-next-line max-len\nconst BASE_URL = 'https://mate-academy.github.io/phone-catalogue-static/api/phones.json';\n\nfunction getDataFromApi() {\n  return fetch(BASE_URL);\n}\n\nfunction timeout() {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => (\n      reject(new Error('Timeouted'))\n    ), 5000);\n  });\n}\n\nfunction getPhonesWithTimeout() {\n  return Promise.race([\n    getDataFromApi(),\n    timeout(),\n  ])\n    .then(response => {\n      return response.json();\n    })\n    .catch(error => {\n    // eslint-disable-next-line no-console\n      return console.warn(error);\n    });\n}\n\nfunction getPhones() {\n  return getPhonesWithTimeout()\n    .then(phones => {\n      const phonesIds = phones.map(phone => phone.id);\n\n      return phonesIds;\n    });\n}\n\nfunction getPhonesDetails(ids) {\n  const phonesDetailsList = ids.map(id => {\n    return fetch(\n      // eslint-disable-next-line max-len\n      `https://mate-academy.github.io/phone-catalogue-static/api/phones/${id}.json`\n    )\n      .then(response => {\n        return response.json();\n      });\n  });\n\n  return Promise.all(phonesDetailsList);\n}\n\nfunction displayList(phonesDetailsList) {\n  const list = document.createElement('ul');\n\n  phonesDetailsList.forEach(item => {\n    const li = document.createElement('li');\n\n    li.textContent = item.name;\n\n    list.append(li);\n  });\n\n  document.body.append(list);\n};\n\ngetPhones(BASE_URL)\n  .then(getPhonesDetails)\n  .then(displayList);\n"]}